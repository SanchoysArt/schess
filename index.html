<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<title>Translator</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  height: 100vh;
  background: #000;
  color: #fff;
  font-family: system-ui, -apple-system, Segoe UI, sans-serif;
  overflow: hidden;
}

/* –ú–Ø–ì–ö–ò–ô –ñ–ò–í–û–ô –§–û–ù */
.background {
  position: fixed;
  inset: -50%;
  background:
    radial-gradient(circle at 30% 30%, #ffffff18, transparent 40%),
    radial-gradient(circle at 70% 70%, #ffffff10, transparent 40%);
  animation: float 18s ease-in-out infinite;
  filter: blur(60px);
}
@keyframes float {
  0%   { transform: translate(0,0); }
  50%  { transform: translate(5%,3%); }
  100% { transform: translate(0,0); }
}

/* –ú–ï–ù–Æ */
.menu {
  position: fixed;
  top: 20px;
  left: 20px;
  font-size: 28px;
  cursor: pointer;
  opacity: .7;
  transition: .3s;
}
.menu:hover { opacity: 1; }

/* –û–°–ù–û–í–ê */
.app {
  position: relative;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.columns {
  width: 90%;
  max-width: 1100px;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 24px;
  animation: appear .8s ease;
}
@keyframes appear {
  from { opacity: 0; transform: translateY(10px); }
  to   { opacity: 1; transform: none; }
}

/* –ö–ê–†–¢–û–ß–ö–ò */
.card {
  border: 1px solid #ffffff30;
  background: #000;
  padding: 20px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  transition: .4s;
}
.card:hover {
  border-color: #ffffff70;
}

/* –≠–õ–ï–ú–ï–ù–¢–´ */
select, textarea {
  background: #000;
  color: #fff;
  border: 1px solid #ffffff30;
  padding: 12px;
  font-size: 16px;
  transition: .3s;
}
select:hover, textarea:hover {
  border-color: #ffffff70;
}

textarea {
  min-height: 220px;
  resize: none;
  line-height: 1.5;
}

/* –ö–ù–û–ü–ö–ê –ú–ò–ö–†–û–§–û–ù–ê */
.mic {
  width: 44px;
  height: 44px;
  border-radius: 50%;
  border: 1px solid #ffffff40;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  opacity: .7;
  transition: .3s;
}
.mic:hover {
  opacity: 1;
  transform: scale(1.05);
}
</style>
</head>

<body>
<div class="background"></div>

<div class="menu">‚ò∞</div>

<div class="app">
  <div class="columns">

    <!-- –õ–ï–í–ê–Ø -->
    <div class="card">
      <select disabled>
        <option>–ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</option>
      </select>

      <textarea id="input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç"></textarea>

      <div class="mic" onclick="voice()">üé§</div>
    </div>

    <!-- –ü–†–ê–í–ê–Ø -->
    <div class="card">
      <select id="target">
        <option value="en">English</option>
        <option value="ru">–†—É—Å—Å–∫–∏–π</option>
        <option value="de">Deutsch</option>
        <option value="fr">Fran√ßais</option>
        <option value="es">Espa√±ol</option>
      </select>

      <textarea id="output" placeholder="–ü–µ—Ä–µ–≤–æ–¥" readonly></textarea>
    </div>

  </div>
</div>

<script>
const input  = document.getElementById("input");
const output = document.getElementById("output");
const target = document.getElementById("target");

let timer;

/* –ê–í–¢–û–ü–ï–†–ï–í–û–î (–ù–ï –î–Å–†–ì–ê–ï–¢–°–Ø) */
input.addEventListener("input", () => {
  clearTimeout(timer);
  timer = setTimeout(translate, 600);
});

/* –†–ï–ê–õ–¨–ù–û –†–ê–ë–û–¢–ê–Æ–©–ò–ô API */
async function translate() {
  if (!input.value.trim()) {
    output.value = "";
    return;
  }

  try {
    const res = await fetch("https://translate.argosopentech.com/translate", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        q: input.value,
        source: "auto",
        target: target.value
      })
    });

    const data = await res.json();
    output.value = data.translatedText || "–û—à–∏–±–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–∞";
  } catch {
    output.value = "–ù–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è";
  }
}

/* –ì–û–õ–û–° */
function voice() {
  const r = new webkitSpeechRecognition();
  r.lang = "auto";
  r.onresult = e => input.value = e.results[0][0].transcript;
  r.start();
}
</script>
</body>
</html>